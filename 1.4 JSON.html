<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="light dark" />
    <title>fetch JSON</title>
    <link
      rel="stylesheet"
      href="/node_modules/@picocss/pico/css/pico.min.css"
    />
  </head>
  <body>
    <header class="container">
      <h1>Where is the ISS?</h1>
      <div id="iss"></div>
    </header>

    <script>
      (async function () {
        const ISS_API = "https://api.wheretheiss.at/v1/satellites/25544",
          getISS = async () => {
            const res = await fetch(ISS_API),
              data = await res.json(),
              { latitude: lat, longitude: lon } = data;
            return { lat, lon };
          };

        const { lat, lon } = await getISS();
        document.querySelector("#iss").textContent =
          `Latitude: ${lat}, Longitude: ${lon}`;
      })();
    </script>
  </body>
</html>
